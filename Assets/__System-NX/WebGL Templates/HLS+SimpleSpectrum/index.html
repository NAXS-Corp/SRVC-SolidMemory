<!DOCTYPE html>
<html lang="en-us">

  <head>
    <meta charset="utf-8">
    <title>%UNITY_WEB_NAME%</title>
    <script src="TemplateData/hls.min.js"></script>
    <script src="TemplateData/SimpleSpectrum.js"></script>
    <script src="%UNITY_WEBGL_LOADER_URL%"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- <link rel="stylesheet" href="../rawgate.css"> -->
    <!-- <script src="../audioSetup.js"></script> -->
    <script>
        function UnityProgress(unityInstance, progress) {
            if (!unityInstance.Module)
                return;
            if (!unityInstance.logo) {
                unityInstance.logo = document.createElement("div");
                unityInstance.logo.className = "logo " + unityInstance.Module.splashScreenStyle;
                unityInstance.container.appendChild(unityInstance.logo);
            }
            if (!unityInstance.progress) {
                unityInstance.progress = document.getElementById("u-progress");
                unityInstance.progress.full = document.getElementById("u-progress-full");
            }
            unityInstance.progress.full.style.width = (100 * progress) + "%";
            if (progress == 1)
                unityInstance.logo.style.display = unityInstance.progress.classList.add('done');
        }
        var unityInstance = UnityLoader.instantiate("unityContainer", "%UNITY_WEBGL_BUILD_URL%", {onProgress: UnityProgress});
        function Unity2JS(cat, state) {console.log(cat, str);}
    </script>
    <style>
        canvas { width: 100%; height: 100%; }
        .progress {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100vw;
            height: 1vh;
            background: #000;
            z-index: 99;
            transition: opacity 1s;
        }
        .progress .full{
            position: absolute;
            left: 0;
            background: #333;
            height: 100%;
        }
        .progress.done{
            opacity: 0;
        }
    </style>
  </head>
    <body style="margin:0; overflow: hidden; background: #000;">
      <div id="bg-group">
          <div id="bg0" class="bg_full"></div>
          <div id="bg1" class="bg_full bg_lateLoad"></div>
          <div id="bg2" class="bg_full bg_lateLoad"></div>
      </div>
      
      <div class="progress stateBar" id="u-progress">
        <div class="progress-full stateMeter" id="u-progress-full"></div>
      </div>
      <div id="unityContainer" style="width: 100vw !important; height: 100vh !important; margin: 0"></div>

    </body>

</html>
